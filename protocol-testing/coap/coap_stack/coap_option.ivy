#lang ivy1.7

#      0   1   2   3   4   5   6   7
#    +---------------+---------------+
#    |               |               |
#    |  Option Delta | Option Length |   1 byte
#    |               |               |
#    +---------------+---------------+
#    \                               \
#    /         Option Delta          /   0-2 bytes
#    \          (extended)           \
#    +-------------------------------+
#    \                               \
#    /         Option Length         /   0-2 bytes
#    \          (extended)           \
#    +-------------------------------+
#    \                               \
#    /                               /
#    \                               \
#    /         Option Value          /   0 or more bytes
#    \                               \
#    /                               /
#    \                               \
#    +-------------------------------+

#                           Figure 8: Option Format

object coap_option = {
    type this = struct {
        option_number : stream_pos,   # [1] Option number
        option_length : stream_pos,   # [2] Length of the option value
        option_value : stream_data    # [3] Option value
    }

    instance idx : unbounded_sequence
    instance arr : array(idx, this) 

    # More definitions here, such as actions, invariants, etc.
}

# Define additional helper functions or actions as needed
