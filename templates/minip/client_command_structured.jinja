#!/bin/bash
# Structured command template for Panther Ivy client
# Generated commands are properly escaped using quote_shell filter

{% if env_vars %}
# Environment variables
{% for key, value in env_vars.items() %}
{{ key }}={{ value|quote_shell }}
{% endfor %}
{% endif %}

# Execute the command with properly quoted arguments
{% if command_args %}
{% if command_args[0] %}{{ command_args[0] }}{% endif %}{% for arg in command_args[1:] %} {{ arg|quote_shell }}{% endfor %}
{% endif %}

{% if extra_fields %}
{{ extra_fields }}
{% endif %}
